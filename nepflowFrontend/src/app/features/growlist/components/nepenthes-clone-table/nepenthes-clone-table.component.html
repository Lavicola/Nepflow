<button mat-button [matMenuTriggerFor]="menu" class="table-config-menu">
  <mat-icon aria-hidden="false" aria-label="Example home icon">settings</mat-icon>
  <mat-menu #menu="matMenu">
    <span class="table-config-menu-label">Edit Columns</span>
    <div class="table-config-menu-options">
      <mat-checkbox
        *ngFor="let column of columnDefinitions; let i = index"
        (click)="$event.stopPropagation()"
        [(ngModel)]="column.visible">
        {{column.label}}
      </mat-checkbox>
    </div>
  </mat-menu>
</button>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

  <!-- Clone Id Column -->
  <ng-container matColumnDef="cloneId">
    <th mat-header-cell *matHeaderCellDef> cloneId
      <div>
        <mat-form-field>
          <input matInput class="form-field" [formControl]="cloneIdFilter" placeholder="Filter by Clone Id">
        </mat-form-field>
      </div>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.cloneId}} </td>
  </ng-container>

  <!-- Producer Column -->
  <ng-container matColumnDef="producer">
    <th mat-header-cell *matHeaderCellDef> Producer
      <div>
        <mat-form-field>
          <input matInput class="form-field" [formControl]="producerFilter" placeholder="Filter by Producer">
        </mat-form-field>
      </div>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.producer}} </td>
  </ng-container>

  <!-- Sex Column -->
  <ng-container matColumnDef="sex">
    <th mat-header-cell *matHeaderCellDef> Sex
      <div>
        <mat-form-field>
          <input matInput class="form-field" [formControl]="sexFilter" placeholder="Filter by Sex">
        </mat-form-field>
      </div>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.sex}} </td>
  </ng-container>

  <!-- Nickname Column -->
  <ng-container matColumnDef="nickname">
    <th mat-header-cell *matHeaderCellDef> Nickname
      <div>
        <mat-form-field>
          <input matInput class="form-field" [formControl]="nicknameFilter" placeholder="Filter by Nickname">
        </mat-form-field>
      </div>
    </th>
    <td mat-cell *matCellDef="let element"> {{element.nickname}} </td>
  </ng-container>

  <!-- Location Column -->
  <ng-container matColumnDef="Location">
    <th mat-header-cell *matHeaderCellDef> Location </th>
    <td mat-cell *matCellDef="let element"> {{element.Location}} </td>
  </ng-container>

  <!-- Action Column -->
  <ng-container matColumnDef="action">
    <th mat-header-cell *matHeaderCellDef> Action </th>
    <td mat-cell *matCellDef="let element">
      <button mat-button (click)="onActionClick(element)">Add</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="getDisplayedColumns()"></tr>
  <tr mat-row *matRowDef="let row; columns: getDisplayedColumns();"></tr>
</table>
